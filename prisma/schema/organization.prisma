model Organization {
  id               String             @id @default(uuid())
  name             String
  slug             String             @unique
  email            String             @unique
  phone            String?
  website          String?
  logo             String?
  logoPublicId     String?
  status           OrganizationStatus @default(ACTIVE)
  maxEmployees     Int                @default(10)
  currentEmployees Int                @default(0)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt

  branch   Branch[]
  employee Employee[]

  user User @relation(fields: [id], references: [id])

  @@map("organizations")
}

model Branch {
  id             String       @id @default(ulid())
  name           String
  organizationId String
  organization   Organization @relation(fields: [organizationId], references: [id])
  addressId      String
  address        Address      @relation(fields: [addressId], references: [id])
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt

  Department Department[]
  Employee   Employee[]

  @@map("branches")
}

model Department {
  id        String   @id @default(uuid())
  slug      String   @unique @default(uuid())
  name      String
  branchId  String
  branch    Branch   @relation(fields: [id], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  employees Employee[]

  @@map("departments")
}

model Address {
  id         String   @id @default(uuid())
  line1      String
  city       String
  state      String
  country    String
  postalCode String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  branch   Branch[]
  employee Employee[]

  @@map("address")
}
